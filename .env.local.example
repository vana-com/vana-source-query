# =============================================================================
# Vana Source Query - Environment Variables
# =============================================================================
# Copy this file to .env.local and configure with real values.
# NEVER commit .env.local to version control!
#
# For production, use Doppler or Vercel Environment Variables.
# =============================================================================

# =============================================================================
# MODE: Client-Only vs Server Mode
# =============================================================================
# Without DATABASE_URL: App runs client-only (IndexedDB for storage)
# With DATABASE_URL: App runs in server mode (Postgres + GitHub OAuth)
# =============================================================================

# -----------------------------------------------------------------------------
# GitHub Configuration (always available)
# -----------------------------------------------------------------------------
# Default GitHub org/user to load on startup (optional)
NEXT_PUBLIC_GITHUB_ORG=vana-com

# GitHub Personal Access Token (used when NOT logged in via OAuth)
# Get one at: https://github.com/settings/tokens/new
# Required scopes: repo (for private) or public_repo (for public only)
GITHUB_TOKEN=

# -----------------------------------------------------------------------------
# Google Gemini API Key (always required for token counting + chat)
# -----------------------------------------------------------------------------
# Get one at: https://aistudio.google.com/app/apikey
GEMINI_API_KEY=

# =============================================================================
# SERVER MODE (optional - all fields below)
# =============================================================================
# Enable server mode by setting DATABASE_URL. This enables:
# - GitHub OAuth login (use GitHub permissions directly)
# - Shared pack cache across users (public repos only)
# - Persistent conversations (cross-device)
# =============================================================================

# -----------------------------------------------------------------------------
# Database (Neon.tech Serverless PostgreSQL)
# -----------------------------------------------------------------------------
# Connection string for application runtime (can use connection pooler)
# DATABASE_URL="postgresql://user:pass@ep-xxx.us-east-2.aws.neon.tech/vana_query?sslmode=require"

# Direct connection for migrations (bypasses pooler, required for advisory locks)
# DIRECT_DATABASE_URL="postgresql://user:pass@ep-xxx.us-east-2.aws.neon.tech/vana_query?sslmode=require"

# -----------------------------------------------------------------------------
# NextAuth.js (required if DATABASE_URL is set)
# -----------------------------------------------------------------------------
# Secret for JWT encryption - generate with: openssl rand -base64 32
# AUTH_SECRET="your-random-32-character-secret-here"

# Application URL for OAuth callbacks
# NEXTAUTH_URL="http://localhost:3000"

# -----------------------------------------------------------------------------
# GitHub OAuth App (required if DATABASE_URL is set)
# -----------------------------------------------------------------------------
# Create at: https://github.com/settings/developers -> OAuth Apps -> New
# Homepage URL: http://localhost:3000 (or your production URL)
# Callback URL: http://localhost:3000/api/auth/callback/github
#
# GITHUB_CLIENT_ID="your-oauth-app-client-id"
# GITHUB_CLIENT_SECRET="your-oauth-app-client-secret"

# =============================================================================
# Development Tools
# =============================================================================
# Doppler CLI: doppler run -- npm run dev
# Prisma Studio: npm run db:studio (accessible at http://localhost:5555)
# =============================================================================
